<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battlefield2042Review-Gamiflix</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
   <link rel="stylesheet" href="/css/reviewstyle.css">
    
    <body>
        <div class="title">Battlefield 2042</div>
        <div class="section"></div>
        <!-- Description Section -->
        <div class="description-section">
            <h2 class="section-title">Description</h2>
            <p>Battlefield 2042 is a 2021 first-person shooter, developed by DICE and published by Electronic Arts. The twelfth main installment in the Battlefield series, it was released on November 19, 2021, for PlayStation 4, PlayStation 5, Windows, Xbox One, and Xbox Series X/S. 2042 is the first installment since 2006's Battlefield 2142 to solely be a multiplayer video game, without a single-player campaign. It is also the first installment to feature support for cross-platform play.</p>
        </div>
    
        <!-- Container for Video and Game Details -->
        <div class="container">
            <!-- Video -->
            <iframe width="560" height="315" src="https://www.youtube.com/embed/WomAGoEh-Ss" allowfullscreen></iframe>
    
            <!-- Game Details -->
            <div class="game-details-container">
                <div class="game-details">
                    <div class="image">
                        <img src="/img/battlefieldreview.jpg">
                    </div>
                    <div class="details">
                        <h1>Battlefield 2042</h1>
                        <div class="info">
                            <div>
                                <h3>Genres</h3>
                                <p>Shooter, Action</p>
                            </div>
                            <div>
                                <h3>Developers</h3>
                                <p>EA Digital Illusions CE</p>
                            </div>
                            <div>
                                <h3>Release Date</h3>
                                <p>May 31, 2021</p>
                            </div>
                            <div>
                                <h3>Content Rating</h3>
                                <p>M Strong Language, Blood, Violence</p>
                            </div>
                            <div>
                                <h3>Platform</h3>
                                <p>PC, PS4, PS5, Xbox One, Xbox Series S/X</p>
                            </div>
                        </div>
                        <div class="platforms">
                            <i class="fab fa-steam"></i>
                            <i class="fab fa-playstation"></i>
                            <i class="fab fa-xbox"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </body>
    
    </html>
    <div class="section">
        <h2 class="section-title">Gamiflix Review</h2>
        <div class="review-container">
            
            <table class="review-table">
                <thead>
                    <tr>
                        <th>Review</th>
                        <th>Liked</th>
                        <th>Disliked</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            Battlefield 2042 is the result of an attempted offensive on multiple fronts. All-out War is the major victim of this strategy with several questionable design issues that detract from the experience. Hazard Zone is a solid mode that plays it safe, without risking the formula established by other games, while Portal shines by bringing back the best moments of the old Battlefield games. Made with longevity in mind, Dice has an uphill battle with Battlefield 2042.
                        </td>
                        <td>
                            - Battlefield 2042's highpoint is its powerful Portal mode, which lets you relive the series' past glories and tweak them to your liking<br>
                            - Immersive Graphics and Visual Effects<br>
                            - Dynamic Maps<br>
                            - Cross-Play Support
                        </td>
                        <td>
                            - Battlefield 2042 truly feels unfinished, as though every menu screen and transition to a new map is a placeholder for something more final yet to come.<br>
                            - Lack of Campaign Mode<br>
                            - Technical Issues at Launch<br>
                            - No Scoreboard or Voice Chat 
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
    </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Gamiflix Score</div>
                    <div class="description">Mixed Or Average</div>
                    <div class="reviews">Based on 84 Critic Reviews</div>
                </div>
                <div class="score gamiflix-yellow">68</div>
            </div>
            <div class="progress-bar-yellow"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Graphics Score</div>
                    <div class="description">Generally Favorable</div>
                    <div class="reviews">Based on 45 Critic Ratings</div>
                </div>
                <div class="score graphics-green">81</div>
            </div>
            <div class="progress-bar-green"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Gameplay Score</div>
                    <div class="description">Mixed Or Average</div>
                    <div class="reviews">Based on 48 Critic Ratings</div>
                </div>
                <div class="score gameplay-yellow">60</div>
            </div>
            <div class="progress-bar-yellow"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Smoothness Score</div>
                    <div class="description">Mixed Or Average</div>
                    <div class="reviews">Based on 35 Critic Ratings</div>
                </div>
                <div class="score smoothness-yellow">67</div>
            </div>
            <div class="progress-bar-yellow"></div>
        </div>
        <div class="section my-score">
            <div class="rating">
                <div class="details">
                    <div class="label">My Score</div>
                    <div class="description">Give your rating of the game</div>
                </div>
                <div class="bars">
                    <div class="bar" data-value="10"></div>
                    <div class="bar" data-value="20"></div>
                    <div class="bar" data-value="30"></div>
                    <div class="bar" data-value="40"></div>
                    <div class="bar" data-value="50"></div>
                    <div class="bar" data-value="60"></div>
                    <div class="bar" data-value="70"></div>
                    <div class="bar" data-value="80"></div>
                    <div class="bar" data-value="90"></div>
                    <div class="bar" data-value="100"></div>
                    <div class="average-pointer" id="average-pointer"></div>
                </div>
                <div class="circle" id="my-score-circle">0</div>
            </div>
        </div>
        <div class="section">
    <button id="add-review-button">Add My Review</button>
    <div id="review-form" style="display: none;">
        <input type="text" id="reviewerName" placeholder="Your Name" required>
        <textarea id="reviewText" placeholder="Write Your Review Here....." required></textarea>
        <button id="submit-review">Submit Review</button>
    </div>
    <h2 class="section-title">User Reviews</h2>
    <div id="reviewsDisplay"></div>
</div>

    <script>
    let ratings = [];
    let totalRating = 0;

    document.querySelectorAll('.bar').forEach(bar => {
        bar.addEventListener('mouseover', function() {
            const value = this.getAttribute('data-value');
            document.getElementById('my-score-circle').textContent = value;
        });

        bar.addEventListener('click', function() {
            const value = parseInt(this.getAttribute('data-value'));
            ratings.push(value);
            totalRating += value;
            const averageRating = totalRating / ratings.length;
            document.getElementById('my-score-circle').textContent = averageRating.toFixed(1);
            updateAverageScoreColor(averageRating);
            updateAveragePointer(averageRating);
        });
    });

    function updateAverageScoreColor(average) {
        const circle = document.getElementById('my-score-circle');
        if (average < 40) {
            circle.style.backgroundColor = '#ff6666'; // Red for low ratings
        } else if (average < 70) {
            circle.style.backgroundColor = '#ffcc66'; // Yellow for mid ratings
        } else {
            circle.style.backgroundColor = '#66cc66'; // Green for high ratings
        }
    }

    function updateAveragePointer(average) {
        const pointer = document.getElementById('average-pointer');
        const bars = document.querySelectorAll('.bar');
        const barWidth = document.querySelector('.bar').offsetWidth;
        const barCount = bars.length;

        // Calculate the position of the pointer
        pointer.style.left = `${(average / 100) * barWidth * barCount}px`;
    } 
</script>
 <!-- Firebase SDK -->
 <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCTdYFbrrEb1eSiuggzUkSi_xS6xNewEXE",
        authDomain: "battlefield-36aa2.firebaseapp.com",
        projectId: "battlefield-36aa2",
        storageBucket: "battlefield-36aa2.appspot.com",
        messagingSenderId: "917065899642",
        appId: "1:917065899642:web:d25f6cca18033051d125c3",
        measurementId: "G-958E943ETT"
    };

    // Initialize Firebase and Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Function to display reviews from Firestore
    async function displayReviews() {
        const reviewsDisplay = document.getElementById('reviewsDisplay');
        reviewsDisplay.innerHTML = ''; // Clear current reviews

        // Get reviews from Firestore and display them
        const reviewsQuery = query(collection(db, 'reviews'), orderBy('timestamp', 'desc'));
        const querySnapshot = await getDocs(reviewsQuery);
        
        querySnapshot.forEach((doc) => {
            const reviewData = doc.data();
            const reviewElement = document.createElement('div');
            reviewElement.classList.add('review-item');
            reviewElement.innerHTML = `
                <strong>${reviewData.name}</strong>
                <p>${reviewData.review}</p>
                <small>${new Date(reviewData.timestamp?.toDate()).toLocaleString()}</small>
            `;
            reviewsDisplay.appendChild(reviewElement);
        });
    }

    // Show/hide the review form when "Add My Review" is clicked
    document.getElementById('add-review-button').addEventListener('click', function(event) {
        event.preventDefault(); 
        const form = document.getElementById('review-form');

        if (form.style.display === 'none' || form.style.display === '') {
            form.style.display = 'block';
        } else {
            form.style.display = 'none';
        }
    });

    // Handle form submission to Firestore
    document.getElementById('submit-review').addEventListener('click', async function() {
        const name = document.getElementById('reviewerName').value;
        const review = document.getElementById('reviewText').value;

        if (name && review) {
            // Add review to Firebase Firestore
            try {
                await addDoc(collection(db, 'reviews'), {
                    name: name,
                    review: review,
                    timestamp: serverTimestamp()
                });
                console.log('Review added');
                document.getElementById('reviewerName').value = '';
                document.getElementById('reviewText').value = '';
                displayReviews(); // Refresh the reviews
                alert('Thank you for your review!');
            } catch (error) {
                console.error('Error adding review: ', error);
            }
        } else {
            alert('Please fill out both fields.');
        }
    });

    // Display reviews when the page loads
    window.onload = displayReviews;
</script>
</body>
</html>
