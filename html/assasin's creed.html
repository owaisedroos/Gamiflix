<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AssassinsCreed Review-Gamiflix</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
   <link rel="stylesheet" href="/css/reviewstyle.css">
    
    <body>
        <div class="title">Assassin's Creed</div>
        <div class="section"></div>
        <!-- Description Section -->
        <div class="description-section">
            <h2 class="section-title">Description</h2>
            <p> Assassin's Creed Valhalla is an RPG set in the Viking Age, where players control Eivor, a Norse raider seeking a new home in England. The game features an expansive open world, brutal combat, and a rich narrative intertwined with history and Norse mythology. Players can build their settlement, raid for resources, and make choices that shape the story. With its blend of exploration, strategy, and immersive storytelling, Valhalla offers a captivating experience within the Assassin's Creed universe.</p>
        </div>
    
        <!-- Container for Video and Game Details -->
        <div class="container">
            <!-- Video -->
            <iframe width="560" height="315" src="https://www.youtube.com/embed/yaoUZKnLvVA" allowfullscreen></iframe>
    
            <!-- Game Details -->
            <div class="game-details-container">
                <div class="game-details">
                    <div class="image">
                        <img src="/img/assasin'sreview.jpg">
                    </div>
                    <div class="details">
                        <h1>Assassin's Creed</h1>
                        <div class="info">
                            <div>
                                <h3>Genres</h3>
                                <p>RPG, Adventure</p>
                            </div>
                            <div>
                                <h3>Developers</h3>
                                <p>Ubisoft Entertainment</p>
                            </div>
                            <div>
                                <h3>Release Date</h3>
                                <p>November 11, 2020</p>
                            </div>
                            <div>
                                <h3>Content Rating</h3>
                                <p>M Blood and Gore, Intense Violence, Strong Language</p>
                            </div>
                            <div>
                                <h3>Platform</h3>
                                <p>PC, PlayStation 5, Xbox Series X/S</p>
                            </div>
                        </div>
                        <div class="platforms">
                            <i class="fab fa-steam"></i>
                            <i class="fab fa-playstation"></i>
                            <i class="fab fa-xbox"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </body>
    
    </html>
    <div class="section">
        <h2 class="section-title">Gamiflix Review</h2>
        <div class="review-container">
            
            <table class="review-table">
                <thead>
                    <tr>
                        <th>Review</th>
                        <th>Liked</th>
                        <th>Disliked</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            Assassin's Creed Valhalla immerses players in the Viking Age as Eivor, a Norse raider exploring England. The stunning open world, engaging combat, and RPG elements, including settlement building, enhance the experience. While some missions may feel repetitive and the game lengthy, the rich narrative and character development make it a compelling addition to the series. At the end of the day, Assassin’s Creed Valhalla is an exceptional adventure that should please fans of the series. Ubisoft has succeeded in crafting a striking medieval world that’s just begging to be explored. If you’re a fan of the series, don’t sit this one out. Assassin’s Creed Valhalla is an adventure fit for Odin himself.
                        </td>
                        <td>
                            - Beautifully crafted environments and diverse landscapes.<br>
                            - Fluid combat mechanics with various playstyles.<br>
                            - Compelling story with deep character development.<br>
                            - Skill trees and choices that impact gameplay.
                        </td>
                        <td>
                            - Some quests can feel monotonous.<br>
                            - The game may be overly long for some players.<br>
                            - Narrative pacing can occasionally be uneven.<br>
                            - RPG elements may feel complex for newcomers.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
    </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Gamiflix Score</div>
                    <div class="description">Generally Favorable</div>
                    <div class="reviews">Based on 50 Critic Reviews</div>
                </div>
                <div class="score gamiflix-green">80</div>
            </div>
            <div class="progress-bar-green"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Graphics Score</div>
                    <div class="description">Exceptional</div>
                    <div class="reviews">Based on 35 Critic Ratings</div>
                </div>
                <div class="score graphics-green">91</div>
            </div>
            <div class="progress-bar-green"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Gameplay Score</div>
                    <div class="description">Generally Favorable</div>
                    <div class="reviews">Based on 45 Critic Ratings</div>
                </div>
                <div class="score gameplay-green">88</div>
            </div>
            <div class="progress-bar-green"></div>
        </div>
        <div class="section">
            <div class="score-section">
                <div class="details">
                    <div class="label">Smoothness Score</div>
                    <div class="description">Generally Favorable</div>
                    <div class="reviews">Based on 30 Critic Ratings</div>
                </div>
                <div class="score smoothness-green">79</div>
            </div>
            <div class="progress-bar-green"></div>
        </div>
        <div class="section my-score">
            <div class="rating">
                <div class="details">
                    <div class="label">My Score</div>
                    <div class="description">Give your rating of the game</div>
                </div>
                <div class="bars">
                    <div class="bar" data-value="10"></div>
                    <div class="bar" data-value="20"></div>
                    <div class="bar" data-value="30"></div>
                    <div class="bar" data-value="40"></div>
                    <div class="bar" data-value="50"></div>
                    <div class="bar" data-value="60"></div>
                    <div class="bar" data-value="70"></div>
                    <div class="bar" data-value="80"></div>
                    <div class="bar" data-value="90"></div>
                    <div class="bar" data-value="100"></div>
                    <div class="average-pointer" id="average-pointer"></div>
                </div>
                <div class="circle" id="my-score-circle">0</div>
            </div>
        </div>
 <!-- Review Form -->
 <div class="section">
    <button id="add-review-button">Add My Review</button>
    <div id="review-form" style="display: none;">
        <input type="text" id="reviewerName" placeholder="Your Name" required>
        <textarea id="reviewText" placeholder="Write Your Review Here....." required></textarea>
        <button id="submit-review">Submit Review</button>
    </div>
    <h2 class="section-title">User Reviews</h2>
    <div id="reviewsDisplay"></div>
</div>

    <script>
    let ratings = [];
    let totalRating = 0;

    document.querySelectorAll('.bar').forEach(bar => {
        bar.addEventListener('mouseover', function() {
            const value = this.getAttribute('data-value');
            document.getElementById('my-score-circle').textContent = value;
        });

        bar.addEventListener('click', function() {
            const value = parseInt(this.getAttribute('data-value'));
            ratings.push(value);
            totalRating += value;
            const averageRating = totalRating / ratings.length;
            document.getElementById('my-score-circle').textContent = averageRating.toFixed(1);
            updateAverageScoreColor(averageRating);
            updateAveragePointer(averageRating);
        });
    });

    function updateAverageScoreColor(average) {
        const circle = document.getElementById('my-score-circle');
        if (average < 40) {
            circle.style.backgroundColor = '#ff6666'; // Red for low ratings
        } else if (average < 70) {
            circle.style.backgroundColor = '#ffcc66'; // Yellow for mid ratings
        } else {
            circle.style.backgroundColor = '#66cc66'; // Green for high ratings
        }
    }

    function updateAveragePointer(average) {
        const pointer = document.getElementById('average-pointer');
        const bars = document.querySelectorAll('.bar');
        const barWidth = document.querySelector('.bar').offsetWidth;
        const barCount = bars.length;

        // Calculate the position of the pointer
        pointer.style.left = `${(average / 100) * barWidth * barCount}px`;
    } 
</script>
 <!-- Firebase SDK -->
 <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyBQAzc0SaYOcdiag7hQl0UeJKCw1LrO-FI",
    authDomain: "assacreed.firebaseapp.com",
    projectId: "assacreed",
    storageBucket: "assacreed.appspot.com",
    messagingSenderId: "1090658735395",
    appId: "1:1090658735395:web:a3e16947586bf45251e896",
    measurementId: "G-4J0TC2HLHS"
    };

    // Initialize Firebase and Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Function to display reviews from Firestore
    async function displayReviews() {
        const reviewsDisplay = document.getElementById('reviewsDisplay');
        reviewsDisplay.innerHTML = ''; // Clear current reviews

        // Get reviews from Firestore and display them
        const reviewsQuery = query(collection(db, 'reviews'), orderBy('timestamp', 'desc'));
        const querySnapshot = await getDocs(reviewsQuery);
        
        querySnapshot.forEach((doc) => {
            const reviewData = doc.data();
            const reviewElement = document.createElement('div');
            reviewElement.classList.add('review-item');
            reviewElement.innerHTML = `
                <strong>${reviewData.name}</strong>
                <p>${reviewData.review}</p>
                <small>${new Date(reviewData.timestamp?.toDate()).toLocaleString()}</small>
            `;
            reviewsDisplay.appendChild(reviewElement);
        });
    }

    // Show/hide the review form when "Add My Review" is clicked
    document.getElementById('add-review-button').addEventListener('click', function(event) {
        event.preventDefault(); 
        const form = document.getElementById('review-form');

        if (form.style.display === 'none' || form.style.display === '') {
            form.style.display = 'block';
        } else {
            form.style.display = 'none';
        }
    });

    // Handle form submission to Firestore
    document.getElementById('submit-review').addEventListener('click', async function() {
        const name = document.getElementById('reviewerName').value;
        const review = document.getElementById('reviewText').value;

        if (name && review) {
            // Add review to Firebase Firestore
            try {
                await addDoc(collection(db, 'reviews'), {
                    name: name,
                    review: review,
                    timestamp: serverTimestamp()
                });
                console.log('Review added');
                document.getElementById('reviewerName').value = '';
                document.getElementById('reviewText').value = '';
                displayReviews(); // Refresh the reviews
                alert('Thank you for your review!');
            } catch (error) {
                console.error('Error adding review: ', error);
            }
        } else {
            alert('Please fill out both fields.');
        }
    });

    // Display reviews when the page loads
    window.onload = displayReviews;
</script>
</body>
</html>
