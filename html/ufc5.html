<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EASPORTS UFC5 Review-Gamiflix</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/css/reviewstyle.css">
</head>
<body>
    <div class="title">EA SPORTS UFC 5</div>
    <div class="section"></div>
    
    <!-- Description Section -->
    <div class="description-section">
        <h2 class="section-title">Description</h2>
        <p>EA SPORTS UFC 5 is the latest in mixed martial arts fighting simulation, featuring enhanced mechanics, improved striking techniques, and more realistic animations. Train your fighter, rise through the ranks, and dominate the Octagon.</p>
    </div>
    
    <!-- Container for Video and Game Details -->
    <div class="container">
        <!-- Video -->
        <iframe width="560" height="315" src="https://www.youtube.com/embed/1R4MdobS1nI" allowfullscreen></iframe>

        <!-- Game Details -->
        <div class="game-details-container">
            <div class="game-details">
                <div class="image">
                    <img src="/img/ufc5.jpg">
                </div>
                <div class="details">
                    <h1>EA SPORTS UFC 5</h1>
                    <div class="info">
                        <div>
                            <h3>Genres</h3>
                            <p>Fighting, Sports, Simulation</p>
                        </div>
                        <div>
                            <h3>Developers</h3>
                            <p>EA Vancouver</p>
                        </div>
                        <div>
                            <h3>Release Date</h3>
                            <p>October 27, 2023</p>
                        </div>
                        <div>
                            <h3>Content Rating</h3>
                            <p>T for Teen - Blood, Violence</p>
                        </div>
                        <div>
                            <h3>Platform</h3>
                            <p>PlayStation 5, Xbox Series X/S</p>
                        </div>
                    </div>
                    <div class="platforms">
                        <i class="fab fa-playstation"></i>
                        <i class="fab fa-xbox"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Review Section -->
    <div class="section">
        <h2 class="section-title">Gamiflix Review</h2>
        <div class="review-container">
            <table class="review-table">
                <thead>
                    <tr>
                        <th>Review</th>
                        <th>Liked</th>
                        <th>Disliked</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            EA SPORTS UFC 5 delivers a hard-hitting and brutal mixed martial arts experience. The game shines with realistic animations, intense combat, and a fleshed-out career mode. It is a significant leap in the franchise, offering more fluid striking mechanics and a deeper submission system. The enhanced fighter damage system and realistic fight dynamics add a layer of immersion. The dynamic damage system adds a new level of realism, but the game could benefit from improved AI in some areas and more variety in fight modes and matchmaking issues in online modes.

                        </td>
                        <td>
                            - Dynamic damage system<br>
                            - Realistic animations<br>
                            - Deep career mode<br>
                            - Great presentation and commentary
                        </td>
                        <td>
                            - Occasional online matchmaking issues<br>
                            - AI lacks depth in some fights<br>
                            - Limited variety in modes<br>
                            - Occasional bugs<br>
                            - Microtransactions in Ultimate Team
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Score Section -->
    <div class="section">
        <div class="score-section">
            <div class="details">
                <div class="label">Gamiflix Score</div>
                <div class="description">Generally Favorable</div>
                <div class="reviews">Based on 60 Critic Reviews</div>
            </div>
            <div class="score gamiflix-green">76</div>
        </div>
        <div class="progress-bar-green"></div>
    </div>

    <div class="section">
        <div class="score-section">
            <div class="details">
                <div class="label">Graphics Score</div>
                <div class="description">Generally Favorablel</div>
                <div class="reviews">Based on 45 Critic Ratings</div>
            </div>
            <div class="score graphics-green">80</div>
        </div>
        <div class="progress-bar-green"></div>
    </div>

    <div class="section">
        <div class="score-section">
            <div class="details">
                <div class="label">Gameplay Score</div>
                <div class="description">Generally Favorable</div>
                <div class="reviews">Based on 50 Critic Ratings</div>
            </div>
            <div class="score gameplay-green">82</div>
        </div>
        <div class="progress-bar-green"></div>
    </div>

    <div class="section">
        <div class="score-section">
            <div class="details">
                <div class="label">Smoothness Score</div>
                <div class="description">Mixed or Average</div>
                <div class="reviews">Based on 38 Critic Ratings</div>
            </div>
            <div class="score smoothness-yellow">67</div>
        </div>
        <div class="progress-bar-yellow"></div>
    </div>

    <!-- User Review Section -->
    <div class="section my-score">
        <div class="rating">
            <div class="details">
                <div class="label">My Score</div>
                <div class="description">Give your rating of the game</div>
            </div>
            <div class="bars">
                <div class="bar" data-value="10"></div>
                <div class="bar" data-value="20"></div>
                <div class="bar" data-value="30"></div>
                <div class="bar" data-value="40"></div>
                <div class="bar" data-value="50"></div>
                <div class="bar" data-value="60"></div>
                <div class="bar" data-value="70"></div>
                <div class="bar" data-value="80"></div>
                <div class="bar" data-value="90"></div>
                <div class="bar" data-value="100"></div>
                <div class="average-pointer" id="average-pointer"></div>
            </div>
            <div class="circle" id="my-score-circle">0</div>
        </div>
    </div>

    <div class="section">
        <button id="add-review-button">Add My Review</button>
        <div id="review-form" style="display: none;">
            <input type="text" id="reviewerName" placeholder="Your Name" required>
            <textarea id="reviewText" placeholder="Write Your Review Here....." required></textarea>
            <button id="submit-review">Submit Review</button>
        </div>
        <h2 class="section-title">User Reviews</h2>
        <div id="reviewsDisplay"></div>
    </div>
</body>
</html>

    <script>
        let ratings = [];
        let totalRating = 0;
    
        document.querySelectorAll('.bar').forEach(bar => {
            bar.addEventListener('mouseover', function() {
                const value = this.getAttribute('data-value');
                document.getElementById('my-score-circle').textContent = value;
            });
    
            bar.addEventListener('click', function() {
                const value = parseInt(this.getAttribute('data-value'));
                ratings.push(value);
                totalRating += value;
                const averageRating = totalRating / ratings.length;
                document.getElementById('my-score-circle').textContent = averageRating.toFixed(1);
                updateAverageScoreColor(averageRating);
                updateAveragePointer(averageRating);
            });
        });
    
        function updateAverageScoreColor(average) {
            const circle = document.getElementById('my-score-circle');
            if (average < 40) {
                circle.style.backgroundColor = '#ff6666'; // Red for low ratings
            } else if (average < 70) {
                circle.style.backgroundColor = '#ffcc66'; // Yellow for mid ratings
            } else {
                circle.style.backgroundColor = '#66cc66'; // Green for high ratings
            }
        }
    
        function updateAveragePointer(average) {
            const pointer = document.getElementById('average-pointer');
            const bars = document.querySelectorAll('.bar');
            const barWidth = document.querySelector('.bar').offsetWidth;
            const barCount = bars.length;
    
            // Calculate the position of the pointer
            pointer.style.left = `${(average / 100) * barWidth * barCount}px`;
        } 
    </script>
     <!-- Firebase SDK -->
     <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js";
    
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAwtlPx5r6iQfYjsIZEPqY8k3Sg9BtCOSg",
  authDomain: "commonreview-3ae13.firebaseapp.com",
  projectId: "commonreview-3ae13",
  storageBucket: "commonreview-3ae13.appspot.com",
  messagingSenderId: "487268947794",
  appId: "1:487268947794:web:3f2cd479ce9b5c8d9e4c8b",
  measurementId: "G-NQJC4GJ1M4"
        };
    
        // Initialize Firebase and Firestore
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    
        // Function to display reviews from Firestore
        async function displayReviews() {
            const reviewsDisplay = document.getElementById('reviewsDisplay');
            reviewsDisplay.innerHTML = ''; // Clear current reviews
    
            // Get reviews from Firestore and display them
            const reviewsQuery = query(collection(db, 'reviews'), orderBy('timestamp', 'desc'));
            const querySnapshot = await getDocs(reviewsQuery);
            
            querySnapshot.forEach((doc) => {
                const reviewData = doc.data();
                const reviewElement = document.createElement('div');
                reviewElement.classList.add('review-item');
                reviewElement.innerHTML = `
                    <strong>${reviewData.name}</strong>
                    <p>${reviewData.review}</p>
                    <small>${new Date(reviewData.timestamp?.toDate()).toLocaleString()}</small>
                `;
                reviewsDisplay.appendChild(reviewElement);
            });
        }
    
        // Show/hide the review form when "Add My Review" is clicked
        document.getElementById('add-review-button').addEventListener('click', function(event) {
            event.preventDefault(); 
            const form = document.getElementById('review-form');
    
            if (form.style.display === 'none' || form.style.display === '') {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        });
    
        // Handle form submission to Firestore
        document.getElementById('submit-review').addEventListener('click', async function() {
            const name = document.getElementById('reviewerName').value;
            const review = document.getElementById('reviewText').value;
    
            if (name && review) {
                // Add review to Firebase Firestore
                try {
                    await addDoc(collection(db, 'reviews'), {
                        name: name,
                        review: review,
                        timestamp: serverTimestamp()
                    });
                    console.log('Review added');
                    document.getElementById('reviewerName').value = '';
                    document.getElementById('reviewText').value = '';
                    displayReviews(); // Refresh the reviews
                    alert('Thank you for your review!');
                } catch (error) {
                    console.error('Error adding review: ', error);
                }
            } else {
                alert('Please fill out both fields.');
            }
        });
    
        // Display reviews when the page loads
        window.onload = displayReviews;
    </script>
</body>
</html>
